<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Station 4 - Gruppe Gamma</title>
  <link rel="stylesheet" href="../style-alpha.css" /><link rel="stylesheet" href="style.css" />
  <style>body{margin:0}.content{position:relative;z-index:1}#matrix{position:fixed;inset:0;z-index:-1;pointer-events:none;background:transparent}
  .field-row{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}.error{color:#c0392b;font-size:.9rem;margin-top:.25rem;display:none}.hidden{display:none}</style>
  <script>(function(){if(sessionStorage.getItem("gamma_ok")!=="1")location.replace("../index.html");})();</script>
</head>
<body>
  <canvas id="matrix"></canvas>
  <div class="content"><div class="container">
    <div class="header"><div class="led"></div><h1>Operation Reconnect</h1></div>
    <div class="card"><h2>Avengers-Netzwerk – Station 4 – Gruppe Gamma</h2><p class="small">Gruppe: <span class="code">Gamma</span> · Station: <span class="code">4</span></p></div>
    <div class="card"><h3>Hinweis / Rätsel (Platzhalter)</h3><p>„Der Kontrollknoten ist instabil. Bestimme den Stabilisierungswert.“ – Jarvis</p></div>
    <div class="card"><h3>Codeeingabe</h3>
      <form id="answer-form" novalidate><div class="field-row">
        <label for="answer" class="small">Bitte Zahl eingeben:</label>
        <input type="number" id="answer" name="answer" placeholder="XX" inputmode="numeric" required />
        <button type="submit" class="btn">Absenden</button></div>
        <div id="error" class="error">Falsche Zahl, bitte nochmal versuchen!</div></form>
      <p id="success" class="small hidden">Richtig! Ihr werdet weitergeleitet…</p>
    </div>
    <div class="card"><h3>Nächster Schritt (Fallback-Link)</h3><a class="btn" href="gruppe-gamma-station5.html" id="fallback-link">Weiter zu Station 5</a></div>
    <div class="footer"><p>© Geocache Wetzlar · Hacker-Theme · Nur für Bildungszwecke</p></div>
  </div></div>
  <script>
    (function(){const CORRECT_NUMBER=42;const NEXT=document.getElementById('fallback-link').href;
      const f=document.getElementById('answer-form'),i=document.getElementById('answer'),e=document.getElementById('error'),s=document.getElementById('success');
      const show=el=>el&&(el.style.display='');const hide=el=>el&&(el.style.display='none');
      f.addEventListener('submit',ev=>{ev.preventDefault();hide(e);hide(s);
        const n=parseInt((i.value||'').trim(),10);if(Number.isNaN(n)){e.textContent="Bitte eine Zahl eingeben.";show(e);i.focus();return;}
        if(n===CORRECT_NUMBER){show(s);setTimeout(()=>location.href=NEXT,150);}else{e.textContent="Falsche Zahl, bitte nochmal versuchen!";show(e);i.select();i.focus();}
      });
    })();
  </script>
  <script>
    (function(){const c=document.getElementById('matrix'),x=c.getContext('2d');let cols=0,drops=[];
      const g='アカサタナハマヤラワ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      function resize(){c.width=innerWidth;c.height=innerHeight;cols=Math.floor(c.width/14);drops=Array(cols).fill(0);}
      function draw(){x.fillStyle='rgba(0,0,0,0.08)';x.fillRect(0,0,c.width,c.height);x.fillStyle='#00ff5e';x.font='14px monospace';
        for(let i=0;i<drops.length;i++){const ch=g[Math.floor(Math.random()*g.length)];x.fillText(ch,i*14,drops[i]*16);
          if(drops[i]*16>c.height&&Math.random()>0.975)drops[i]=0;drops[i]++;}requestAnimationFrame(draw);}addEventListener('resize',resize);resize();draw();})();
  </script>
</body>
</html>
